name: E2E testing
on:
  push:
 # schedule:
  #  - cron:  '0 0 * * *'
jobs:
  build:
    runs-on: ubuntu-latest
    services:
      hub:
        image: selenium/hub:3.141.59-20200525
        ports:
          - 4444:4444
      firefox:
        image: selenium/node-firefox:3.141.59-20200525
        volumes:
          - /dev/shm:/dev/shm  
      chrome:
        image: selenium/node-chrome:3.141.59-20200525
        volumes:
          - /dev/shm:/dev/shm  
      opera:
        image: selenium/node-opera:3.141.59-20200525
        volumes:
          - /dev/shm:/dev/shm           
    steps:
      - uses: actions/checkout@v1
      - name: Set up JDK 8
        uses: actions/setup-java@v1
        with:
          java-version: 8
      # - name: selenium
      #   uses: Xotabu4/selenoid-github-action@v1
      - name: mvn test e2e
        run: mvn '-Dtest=es.codeurjc.daw.e2e.**' test
